# 1782. [Count Pairs Of Nodes](<https://leetcode.com/problems/count-pairs-of-nodes>)

*All prompts are owned by LeetCode. To view the prompt, click the title link above.*

*[Back to top](<../README.md>)*

------

> *First completed : September 01, 2025*
>
> *Last updated : September 01, 2025*

------

> **Related Topics** : **[Array](<by_topic/Array.md>), [Hash Table](<by_topic/Hash Table.md>), [Two Pointers](<by_topic/Two Pointers.md>), [Binary Search](<by_topic/Binary Search.md>), [Graph](<by_topic/Graph.md>), [Sorting](<by_topic/Sorting.md>), [Counting](<by_topic/Counting.md>)**
>
> **Acceptance Rate** : **41.15 %**

------

## Solutions

- [m1782.py](<../my-submissions/m1782.py>)
### Python
#### [m1782.py](<../my-submissions/m1782.py>)
```Python
class Solution:
    def maxAverageRatio(self, classes: List[List[int]], extraStudents: int) -> float:

        # Min heap not including 100% ratios since
        # their ratios wouldn't change
        # (-1 * amount of ratio gain, total students, passing students)
        hp = [
            ((passing / tot - (passing + 1) / (tot + 1)), tot, passing) 
            for passing, tot in classes 
            if tot != passing
        ]
        heapify(hp)

        while hp and extraStudents :
            _, tot, passing = heappop(hp)

            tot += 1
            passing += 1
            heappush(hp, ((passing / tot - (passing + 1) / (tot + 1)), tot, passing))
            extraStudents -= 1

        return (sum(passing / tot for _, tot, passing in hp) + (len(classes) - len(hp))) / len(classes)
```

