Version 2 is much more efficient due to the lack of overhead from 
generating $n$ counters. In V2, the solution is still $O(n)$ but 
it's much much much more efficient.